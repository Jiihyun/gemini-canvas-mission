<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DailyMeet Prototype</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        .animate-zoom-in { animation: zoomIn 0.3s ease-out forwards; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        
        /* Hide scrollbar for clean UI */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }
    </style>
</head>
<body class="min-h-screen bg-[#F8F9FA] flex flex-col text-gray-800">

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-10">
        <div class="max-w-4xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center space-x-2 text-indigo-600">
                <i class="ph ph-clock text-2xl font-bold"></i>
                <span class="font-black text-xl tracking-tight">DailyMeet</span>
            </div>
            
            <nav class="flex space-x-1" id="nav-tabs">
                <button onclick="switchTab('home')" id="tab-btn-home" class="flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 bg-indigo-50 text-indigo-700">
                    <i class="ph-fill ph-house text-lg mr-1.5"></i> í™ˆ
                </button>
                <button onclick="switchTab('team')" id="tab-btn-team" class="flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 text-gray-500 hover:bg-gray-100 hover:text-gray-900">
                    <i class="ph-fill ph-users text-lg mr-1.5"></i> íŒ€ì›
                </button>
                <button onclick="switchTab('calendar')" id="tab-btn-calendar" class="flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 text-gray-500 hover:bg-gray-100 hover:text-gray-900">
                    <i class="ph-fill ph-calendar text-lg mr-1.5"></i> ê¸°ë¡
                </button>
            </nav>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <main class="flex-1 max-w-4xl w-full mx-auto p-4 py-8">
        
        <!-- ================= HOME TAB ================= -->
        <div id="view-home" class="space-y-6 animate-fade-in block">
            <!-- í—¤ë” -->
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center">
                <h2 id="home-date-display" class="text-xl font-medium text-gray-500 mb-1"></h2>
                <h1 class="text-3xl font-bold text-gray-800">êµ¿ëª¨ë‹ ë°ì¼ë¦¬! â˜€ï¸</h1>
            </div>

            <!-- ë¯¸íŒ… ì™„ë£Œ ë°°ë„ˆ (ê¸°ë³¸ ìˆ¨ê¹€) -->
            <div id="home-done-section" class="space-y-6 hidden">
                <div class="bg-green-50 p-8 rounded-2xl shadow-sm border border-green-100 text-center flex flex-col items-center justify-center">
                    <i class="ph-fill ph-check-circle text-6xl text-green-500 mb-4"></i>
                    <h2 class="text-2xl font-bold text-green-800 mb-2">ì˜¤ëŠ˜ì˜ ë°ì¼ë¦¬ ì™„ë£Œ!</h2>
                    <p id="home-done-message" class="text-green-700 font-medium text-lg mt-2"></p>
                </div>
                <!-- ì™„ë£Œ í›„ ë‚´ì¼ ë§ˆìŠ¤í„° ì¹´ë“œ ë³µì œ ìœ„ì¹˜ -->
                <div class="max-w-md mx-auto" id="done-tomorrow-master-container"></div>
            </div>

            <!-- ì§„í–‰ ì¤‘ ë·° -->
            <div id="home-active-section" class="space-y-4">
                <!-- ë§ˆìŠ¤í„° ì¹´ë“œ ì˜ì—­ (ì˜¤ëŠ˜ & ë‚´ì¼) -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- ì˜¤ëŠ˜ì˜ ë§ˆìŠ¤í„° -->
                    <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100 flex flex-col items-center justify-center text-center min-h-[160px]" id="today-master-card">
                        <!-- JSì—ì„œ ë Œë”ë§ -->
                    </div>
                    
                    <!-- ë‚´ì¼ì˜ ë§ˆìŠ¤í„° -->
                    <div class="bg-blue-50 p-6 rounded-2xl border border-blue-100 flex flex-col items-center justify-center text-center min-h-[160px] h-full" id="tomorrow-master-card">
                        <!-- JSì—ì„œ ë Œë”ë§ -->
                    </div>
                </div>

                <!-- ì¶”ì²œ ëŒ€í™” ì£¼ì œ -->
                <div class="bg-orange-50 p-6 rounded-2xl border border-orange-100 flex flex-col items-center justify-center text-center relative mt-4">
                    <span class="text-orange-500 font-semibold mb-2">ì˜¤ëŠ˜ì˜ ì¶”ì²œ ëŒ€í™” ì£¼ì œ ğŸ’¬</span>
                    <p id="today-topic-text" class="text-xl font-medium text-orange-900 break-keep"></p>
                    <button onclick="handleRandomTopic()" class="absolute top-4 right-4 p-2 text-orange-400 hover:text-orange-600 hover:bg-orange-100 rounded-full transition-colors" title="ë‹¤ë¥¸ ì£¼ì œ ë°›ê¸°">
                        <i class="ph ph-arrows-clockwise text-xl"></i>
                    </button>
                </div>

                <!-- AI ì£¼ì œ ì¶”ì²œ -->
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-2xl border border-purple-100 flex flex-col mt-4">
                    <div class="flex items-center mb-4">
                        <i class="ph-fill ph-sparkle text-purple-600 mr-2 text-xl"></i>
                        <h3 class="font-bold text-purple-900 text-lg">AI ë§ì¶¤í˜• ëŒ€í™” ì£¼ì œ & í™œë™ ì¶”ì²œ</h3>
                    </div>
                    <div class="flex gap-2 mb-4">
                        <input type="text" id="ai-keyword-input" placeholder="ì˜ˆ: íœ´ê°€, ìµœê·¼ íŠ¸ë Œë“œ, ìŒì‹, íŒ€ì›Œí¬..." 
                               class="flex-1 p-3 rounded-xl border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400"
                               onkeydown="if(event.key === 'Enter') handleFetchAi()">
                        <button id="btn-ai-fetch" onclick="handleFetchAi()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 rounded-xl font-semibold transition-colors disabled:opacity-50 flex items-center justify-center min-w-[140px]">
                            AI ì¶”ì²œ ë°›ê¸°
                        </button>
                    </div>
                    <div id="ai-result-container"></div>
                </div>

                <!-- íƒ€ì´ë¨¸ ë° ê¸°ë¡ ì„¹ì…˜ -->
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center mt-2">
                    <div class="flex items-center justify-center space-x-3 mb-6">
                        <i class="ph ph-clock text-2xl text-gray-400"></i>
                        <div class="flex items-center space-x-2">
                            <input type="number" id="timer-input-minutes" min="1" max="120" value="20"
                                   class="w-16 p-1.5 border border-gray-200 rounded-lg text-center text-lg font-semibold focus:ring-2 focus:ring-indigo-500 outline-none disabled:bg-gray-100 disabled:text-gray-500"
                                   onchange="handleTimerInput()">
                            <span class="text-lg font-semibold text-gray-700">ë¶„ ììœ  ë°ì¼ë¦¬</span>
                        </div>
                    </div>
                    
                    <div id="timer-display" class="text-7xl font-mono font-bold tracking-tighter mb-8 text-gray-800">20:00</div>
                    
                    <div class="flex space-x-4 mb-8">
                        <button id="btn-timer-toggle" onclick="toggleTimer()" class="flex items-center px-8 py-4 rounded-full font-bold text-lg text-white transition-transform active:scale-95 bg-indigo-600 hover:bg-indigo-700">
                            <i class="ph-fill ph-play mr-2"></i> <span>ë°ì¼ë¦¬ ì‹œì‘</span>
                        </button>
                    </div>

                    <div class="w-full max-w-md space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ê¸°ë¡ ì œëª© (ì£¼ì œ)</label>
                            <input type="text" id="record-title-input" class="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none" placeholder="ì˜¤ëŠ˜ì˜ ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”.">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì˜¤ëŠ˜ì˜ ë¯¸íŒ… ë‚´ìš©</label>
                            <textarea id="meeting-note-textarea" class="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none resize-none" rows="3" placeholder="ì˜¤ëŠ˜ ë‚˜ëˆˆ ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë‚˜ ì¤‘ìš”í•œ ê³µìœ ì‚¬í•­ì„ ë‚¨ê²¨ë³´ì„¸ìš”."></textarea>
                        </div>
                        <button onclick="handleFinishMeeting()" class="w-full mt-2 bg-gray-800 hover:bg-gray-900 text-white py-3 rounded-xl font-semibold transition-colors flex items-center justify-center">
                            <i class="ph-fill ph-check-circle mr-2 text-xl"></i> ë¯¸íŒ… ì¢…ë£Œ ë° ê¸°ë¡ ì €ì¥
                        </button>
                    </div>
                </div>
            </div>

            <!-- ë°±ì¤€ ì¶”ì²œ (í•­ìƒ í‘œì‹œ) -->
            <div class="bg-slate-50 p-6 rounded-2xl border border-slate-200 flex flex-col md:flex-row items-center justify-between text-left mt-6">
                <div class="flex-1 w-full">
                    <span class="text-slate-600 font-semibold mb-3 flex items-center">
                        <i class="ph-bold ph-code mr-2 text-lg"></i> ì˜¤ëŠ˜ì˜ ë°±ì¤€ ì½”ë”©í…ŒìŠ¤íŠ¸ ì¶”ì²œ
                    </span>
                    <div class="flex flex-wrap items-center gap-2 mb-4" id="baekjoon-tiers">
                        <!-- Tiers rendered by JS -->
                    </div>
                    <div id="baekjoon-problem-card">
                        <!-- Problem rendered by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ================= TEAM TAB ================= -->
        <div id="view-team" class="hidden animate-fade-in">
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100 bg-gray-50">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                        <i class="ph-fill ph-users mr-2 text-indigo-500"></i> íŒ€ì› ê´€ë¦¬
                    </h2>
                    <p class="text-gray-500 mt-2 text-sm">ì´ ëª…ë‹¨ì„ ë°”íƒ•ìœ¼ë¡œ ë§¤ì¼ ë°ì¼ë¦¬ ë§ˆìŠ¤í„°ë¥¼ ì¶”ì²¨í•©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="p-6">
                    <div class="flex mb-6">
                        <input type="text" id="new-member-input" class="flex-1 p-3 border border-gray-200 rounded-l-xl focus:ring-2 focus:ring-indigo-500 outline-none" placeholder="ìƒˆ íŒ€ì› ì´ë¦„ ì…ë ¥" onkeydown="if(event.key === 'Enter') addMember()">
                        <button onclick="addMember()" class="bg-indigo-600 text-white px-6 rounded-r-xl font-semibold hover:bg-indigo-700 flex items-center">
                            <i class="ph-bold ph-plus mr-1"></i> ì¶”ê°€
                        </button>
                    </div>
                    <ul id="team-list" class="space-y-3">
                        <!-- JS ë Œë”ë§ -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- ================= CALENDAR TAB ================= -->
        <div id="view-calendar" class="hidden animate-fade-in">
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                        <i class="ph-fill ph-calendar mr-2 text-indigo-500"></i> íˆìŠ¤í† ë¦¬
                    </h2>
                    <div class="flex items-center space-x-4">
                        <button onclick="changeMonth(-1)" class="p-2 hover:bg-gray-200 rounded-full text-gray-600 transition-colors"><i class="ph-bold ph-caret-left"></i></button>
                        <span id="calendar-month-year" class="font-bold text-lg text-gray-700 w-24 text-center"></span>
                        <button onclick="changeMonth(1)" class="p-2 hover:bg-gray-200 rounded-full text-gray-600 transition-colors"><i class="ph-bold ph-caret-right"></i></button>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="grid grid-cols-7 gap-2 mb-2 text-center">
                        <div class="font-semibold text-sm text-red-500">ì¼</div>
                        <div class="font-semibold text-sm text-gray-500">ì›”</div>
                        <div class="font-semibold text-sm text-gray-500">í™”</div>
                        <div class="font-semibold text-sm text-gray-500">ìˆ˜</div>
                        <div class="font-semibold text-sm text-gray-500">ëª©</div>
                        <div class="font-semibold text-sm text-gray-500">ê¸ˆ</div>
                        <div class="font-semibold text-sm text-blue-500">í† </div>
                    </div>
                    <div id="calendar-grid" class="grid grid-cols-7 gap-2">
                        <!-- JS ë Œë”ë§ -->
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- App Logic -->
    <script>
        // --- ë”ë¯¸ ë°ì´í„° ---
        const TOPICS = [
            "ìµœê·¼ì— ë³¸ ì˜í™”ë‚˜ ë“œë¼ë§ˆ ì¤‘ ì¶”ì²œí•˜ê³  ì‹¶ì€ ê²ƒì€?",
            "ë§Œì•½ ë‹¹ì¥ 10ì–µì´ ìƒê¸´ë‹¤ë©´ ê°€ì¥ ë¨¼ì € í•˜ê³  ì‹¶ì€ ì¼ì€?",
            "ìš”ì¦˜ ë‚˜ë¥¼ ê°€ì¥ ê¸°ì˜ê²Œ í•˜ëŠ” ì†Œì†Œí•œ í–‰ë³µì€?",
            "ì–´ë¦´ ì  ì¥ë˜í¬ë§ì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?",
            "ì´ë²ˆ ì£¼ë§ì— íŠ¹ë³„í•œ ê³„íšì´ ìˆë‚˜ìš”?",
            "ìµœê·¼ì— ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ í¥ë¯¸ë¡œìš´ ì‚¬ì‹¤ì´ ìˆë‹¤ë©´?",
            "ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìŒì‹ê³¼ ê·¸ ì´ìœ ëŠ”?",
            "ì‹œê°„ ì—¬í–‰ì„ í•  ìˆ˜ ìˆë‹¤ë©´ ê³¼ê±°ë‚˜ ë¯¸ë˜ ì¤‘ ì–´ë””ë¡œ ê°€ê³  ì‹¶ë‚˜ìš”?",
            "ìš”ì¦˜ ê°€ì¥ ë‚˜ì˜ ì‹œê°„ì„ ë§ì´ ë¹¼ì•—ëŠ” ê²ƒì€?",
            "ë§Œì•½ í•˜ë£¨ ë™ì•ˆ ë‹¤ë¥¸ ì‚¬ëŒìœ¼ë¡œ ì‚´ ìˆ˜ ìˆë‹¤ë©´ ëˆ„êµ¬ë¡œ ì‚´ê³  ì‹¶ë‚˜ìš”?",
            "ìµœê·¼ íšŒì‚¬/í•™êµ ìƒí™œì—ì„œ ê°€ì¥ ë¿Œë“¯í–ˆë˜ ìˆœê°„ì€?",
            "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í‘¸ëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•œ ë°©ë²•ì´ ìˆë‚˜ìš”?",
            "ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ì—¬í–‰ì§€ëŠ” ì–´ë””ì¸ê°€ìš”?",
            "ì´ˆëŠ¥ë ¥ì„ í•˜ë‚˜ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ë©´ ë¬´ì—‡ì„ ì›í•˜ë‚˜ìš”?",
            "ë‚˜ì˜ ì„±ê²©ì„ ì„¸ ë‹¨ì–´ë¡œ í‘œí˜„í•œë‹¤ë©´?"
        ];

        const BAEKJOON_PROBLEMS = {
            Bronze: [
                { id: 1000, title: 'A+B', tier: 'Bronze V' },
                { id: 1152, title: 'ë‹¨ì–´ì˜ ê°œìˆ˜', tier: 'Bronze II' },
                { id: 1546, title: 'í‰ê· ', tier: 'Bronze I' },
                { id: 2798, title: 'ë¸”ë™ì­', tier: 'Bronze II' },
                { id: 2231, title: 'ë¶„í•´í•©', tier: 'Bronze II' },
            ],
            Silver: [
                { id: 1436, title: 'ì˜í™”ê°ë… ìˆŒ', tier: 'Silver V' },
                { id: 1003, title: 'í”¼ë³´ë‚˜ì¹˜ í•¨ìˆ˜', tier: 'Silver III' },
                { id: 1920, title: 'ìˆ˜ ì°¾ê¸°', tier: 'Silver IV' },
                { id: 2606, title: 'ë°”ì´ëŸ¬ìŠ¤', tier: 'Silver III' },
                { id: 11724, title: 'ì—°ê²° ìš”ì†Œì˜ ê°œìˆ˜', tier: 'Silver II' },
            ],
            Gold: [
                { id: 10026, title: 'ì ë¡ìƒ‰ì•½', tier: 'Gold V' },
                { id: 14502, title: 'ì—°êµ¬ì†Œ', tier: 'Gold IV' },
                { id: 7576, title: 'í† ë§ˆí† ', tier: 'Gold V' },
                { id: 1753, title: 'ìµœë‹¨ê²½ë¡œ', tier: 'Gold IV' },
                { id: 9663, title: 'N-Queen', tier: 'Gold IV' },
            ],
            Platinum: [
                { id: 14003, title: 'ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 5', tier: 'Platinum V' },
                { id: 2162, title: 'ì„ ë¶„ ê·¸ë£¹', tier: 'Platinum V' },
                { id: 3015, title: 'ì˜¤ì•„ì‹œìŠ¤ ì¬ê²°í•©', tier: 'Platinum V' },
                { id: 11438, title: 'LCA 2', tier: 'Platinum V' },
                { id: 10999, title: 'êµ¬ê°„ í•© êµ¬í•˜ê¸° 2', tier: 'Platinum IV' },
            ]
        };

        // --- ìƒíƒœ ë³€ìˆ˜ ---
        let activeTab = 'home';
        
        // localStorage ì—°ë™
        const loadLocal = (key, defaultVal) => {
            try { const v = localStorage.getItem(key); return v ? JSON.parse(v) : defaultVal; } 
            catch { return defaultVal; }
        };
        const saveLocal = (key, val) => localStorage.setItem(key, JSON.stringify(val));

        let teamMembers = loadLocal('dm_team', ['ê¹€ì² ìˆ˜', 'ì´ì˜í¬', 'ë°•ì§€ì„±', 'ì†í¥ë¯¼']);
        let meetings = loadLocal('dm_meetings', []);
        let confirmedMasters = loadLocal('dailyMeet_masters', {});

        // ë‚ ì§œ ë° ìº˜ë¦°ë” ìƒíƒœ
        let currentCalendarDate = new Date();
        const getFormattedDate = (offset = 0) => {
            const d = new Date();
            d.setDate(d.getDate() + offset);
            return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
        };
        const todayStr = getFormattedDate(0);
        const tomorrowStr = getFormattedDate(1);

        // í™ˆ íƒ­ ìƒíƒœ
        let todayTopic = '';
        let isMeetingDone = false;
        let todayMaster = confirmedMasters[todayStr] || 'ë¯¸ì • (ì–´ì œ ì¶”ì²¨ ì•ˆ í•¨)';

        // ë£°ë › ìƒíƒœ
        let spunTomorrowMaster = null;
        let isTomorrowSpinning = false;
        let currentTomorrowSpinName = '';

        let spunTodayMaster = null;
        let isTodaySpinning = false;
        let currentTodaySpinName = '';

        // íƒ€ì´ë¨¸ ìƒíƒœ
        let inputMinutes = 20;
        let timeLeft = 1200;
        let isTimerRunning = false;
        let timerInterval = null;

        // ë°±ì¤€ ìƒíƒœ
        let selectedTier = 'Silver';
        let todayAlgo = null;

        // AI ìƒíƒœ
        let isAiLoading = false;

        // --- ì´ˆê¸°í™” í•¨ìˆ˜ ---
        function initApp() {
            // í—¤ë” ë‚ ì§œ ì„¸íŒ…
            const todayDateObj = new Date();
            const dateString = `${todayDateObj.getFullYear()}ë…„ ${todayDateObj.getMonth()+1}ì›” ${todayDateObj.getDate()}ì¼ ${['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][todayDateObj.getDay()]}ìš”ì¼`;
            document.getElementById('home-date-display').innerText = dateString;

            // ëœë¤ ì£¼ì œ ë° ë¯¸íŒ… ìƒíƒœ ì²´í¬
            setTopic(TOPICS[Math.floor(Math.random() * TOPICS.length)]);
            
            const doneToday = meetings.find(m => m.date === todayStr);
            if (doneToday) isMeetingDone = true;

            handleRecommendProblem();
            renderAll();
        }

        function setTopic(newTopic) {
            todayTopic = newTopic;
            document.getElementById('today-topic-text').innerText = todayTopic;
            document.getElementById('record-title-input').value = todayTopic;
        }

        // --- ë Œë”ë§ í•¨ìˆ˜ ---
        function renderAll() {
            renderTabs();
            renderHome();
            renderTeam();
            renderCalendar();
        }

        function renderTabs() {
            const tabs = ['home', 'team', 'calendar'];
            tabs.forEach(tab => {
                document.getElementById(`view-${tab}`).classList.toggle('hidden', activeTab !== tab);
                const btn = document.getElementById(`tab-btn-${tab}`);
                if (activeTab === tab) {
                    btn.className = 'flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 bg-indigo-50 text-indigo-700';
                } else {
                    btn.className = 'flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 text-gray-500 hover:bg-gray-100 hover:text-gray-900';
                }
            });
        }

        function switchTab(tab) {
            activeTab = tab;
            if(tab === 'calendar') renderCalendar();
            renderTabs();
        }

        function renderHome() {
            const savedTomorrowMaster = confirmedMasters[tomorrowStr] || null;
            
            if (isMeetingDone) {
                document.getElementById('home-active-section').classList.add('hidden');
                document.getElementById('home-done-section').classList.remove('hidden');
                
                const doneMsg = savedTomorrowMaster ? `ë‚´ì¼ ì•„ì¹¨ì— ${savedTomorrowMaster} ë§ˆìŠ¤í„°ì™€ ë‹¤ì‹œ ë§Œë‚˜ìš”.` : 'ë‚´ì¼ ì•„ì¹¨ì— í•¨ê»˜í•  ë§ˆìŠ¤í„°ë¥¼ ì•„ì§ ë½‘ì§€ ì•Šì•˜ì–´ìš”!';
                document.getElementById('home-done-message').innerText = doneMsg;
                
                // ë‚´ì¼ ë§ˆìŠ¤í„° ì¹´ë“œë¥¼ ì™„ë£Œ ì»¨í…Œì´ë„ˆë¡œ ì´ë™
                document.getElementById('done-tomorrow-master-container').appendChild(document.getElementById('tomorrow-master-card'));
            } else {
                document.getElementById('home-active-section').classList.remove('hidden');
                document.getElementById('home-done-section').classList.add('hidden');
                // ì›ìƒë³µêµ¬
                document.querySelector('#home-active-section .grid').appendChild(document.getElementById('tomorrow-master-card'));
            }

            renderTodayMasterCard();
            renderTomorrowMasterCard();
            updateTimerDisplay();
        }

        function renderTodayMasterCard() {
            const container = document.getElementById('today-master-card');
            let html = `<span class="text-indigo-500 font-semibold mb-2">ì˜¤ëŠ˜ì˜ ë°ì¼ë¦¬ ë§ˆìŠ¤í„° ğŸ‘‘</span>`;
            
            if (confirmedMasters[todayStr]) {
                html += `
                    <span class="text-3xl font-bold text-indigo-900 my-2">${confirmedMasters[todayStr]}</span>
                    <span class="text-sm text-indigo-400 mt-2">í™•ì •ëœ ë§ˆìŠ¤í„°ì…ë‹ˆë‹¤.</span>
                `;
            } else if (isTodaySpinning) {
                html += `<span class="text-3xl font-black text-indigo-400 animate-pulse my-2">${currentTodaySpinName}</span>`;
            } else if (spunTodayMaster) {
                html += `
                    <div class="flex flex-col items-center animate-zoom-in">
                        <span class="text-3xl font-bold text-indigo-900 my-2">${spunTodayMaster}</span>
                        <div class="flex space-x-2 mt-3">
                            <button onclick="confirmTodayMaster()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-xl shadow-sm transition-transform active:scale-95 flex items-center">
                                <i class="ph-fill ph-check-circle mr-2 text-lg"></i> ë§ˆìŠ¤í„° í™•ì •
                            </button>
                            <button onclick="spinTodayRoulette()" class="bg-white border border-indigo-200 text-indigo-600 hover:bg-indigo-50 font-bold py-2 px-4 rounded-xl shadow-sm transition-transform active:scale-95">
                                ë‹¤ì‹œ ëŒë¦¬ê¸°
                            </button>
                        </div>
                    </div>
                `;
            } else {
                html += `
                    <span class="text-lg font-bold text-indigo-300 my-2">ë¯¸ì • (ì–´ì œ ì¶”ì²¨ ì•ˆ í•¨)</span>
                    <button onclick="spinTodayRoulette()" class="mt-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-6 rounded-xl shadow-sm transition-transform active:scale-95 flex items-center">
                        <i class="ph-bold ph-arrows-clockwise mr-2 text-lg"></i> ì˜¤ëŠ˜ ë§ˆìŠ¤í„° ë½‘ê¸°
                    </button>
                `;
            }
            container.innerHTML = html;
        }

        function renderTomorrowMasterCard() {
            const container = document.getElementById('tomorrow-master-card');
            const savedTomorrowMaster = confirmedMasters[tomorrowStr] || null;
            let html = `<span class="text-blue-500 font-semibold mb-2">ë‚´ì¼ì˜ ë°ì¼ë¦¬ ë§ˆìŠ¤í„° ë½‘ê¸° ğŸ¯</span>`;

            if (savedTomorrowMaster) {
                html += `
                    <span class="text-3xl font-bold text-blue-900 my-2">${savedTomorrowMaster}</span>
                    <span class="text-sm text-blue-600 mt-1 font-medium bg-blue-100 px-3 py-1 rounded-full">í™•ì • ì™„ë£Œ</span>
                    <button onclick="resetTomorrowMaster()" class="mt-4 text-sm text-blue-500 underline hover:text-blue-700 transition-colors">
                        ë‹¤ì‹œ ë½‘ê¸° (ì´ˆê¸°í™”)
                    </button>
                `;
            } else if (isTomorrowSpinning) {
                html += `<span class="text-3xl font-black text-blue-400 animate-pulse my-2">${currentTomorrowSpinName}</span>`;
            } else if (spunTomorrowMaster) {
                html += `
                    <div class="flex flex-col items-center animate-zoom-in">
                        <span class="text-3xl font-bold text-blue-900 my-2">${spunTomorrowMaster}</span>
                        <div class="flex space-x-2 mt-3">
                            <button onclick="confirmTomorrowMaster()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-xl shadow-sm transition-transform active:scale-95 flex items-center">
                                <i class="ph-fill ph-check-circle mr-2 text-lg"></i> ë§ˆìŠ¤í„° í™•ì •
                            </button>
                            <button onclick="spinRoulette()" class="bg-white border border-blue-200 text-blue-600 hover:bg-blue-50 font-bold py-2 px-4 rounded-xl shadow-sm transition-transform active:scale-95">
                                ë‹¤ì‹œ ëŒë¦¬ê¸°
                            </button>
                        </div>
                    </div>
                `;
            } else {
                html += `
                    <button onclick="spinRoulette()" class="mt-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-xl shadow-sm transition-transform active:scale-95 flex items-center">
                        <i class="ph-bold ph-arrows-clockwise mr-2 text-lg"></i> ë‚´ì¼ ë§ˆìŠ¤í„° ë£°ë › ëŒë¦¬ê¸°
                    </button>
                    <span class="text-sm text-blue-400 mt-3">ë¯¸íŒ… ë§ˆì¹˜ê¸° ì „ ê¼­ ë½‘ì•„ì£¼ì„¸ìš”!</span>
                `;
            }
            container.innerHTML = html;
        }

        function renderTeam() {
            const list = document.getElementById('team-list');
            if (teamMembers.length === 0) {
                list.innerHTML = `<div class="text-center py-8 text-gray-500">ë“±ë¡ëœ íŒ€ì›ì´ ì—†ìŠµë‹ˆë‹¤. íŒ€ì›ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.</div>`;
                return;
            }
            list.innerHTML = teamMembers.map((member, idx) => `
                <li class="flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100 hover:bg-gray-100 transition-colors">
                    <div class="flex items-center">
                        <span class="w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold mr-4 text-sm">${idx + 1}</span>
                        <span class="font-medium text-gray-800 text-lg">${member}</span>
                    </div>
                    <button onclick="removeMember('${member}')" class="text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition-colors" title="ì‚­ì œ">
                        <i class="ph-bold ph-trash text-xl"></i>
                    </button>
                </li>
            `).join('');
            saveLocal('dm_team', teamMembers);
        }

        function renderCalendar() {
            const year = currentCalendarDate.getFullYear();
            const month = currentCalendarDate.getMonth();
            document.getElementById('calendar-month-year').innerText = `${year}ë…„ ${month + 1}ì›”`;

            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDay = new Date(year, month, 1).getDay();
            const grid = document.getElementById('calendar-grid');
            
            let html = '';
            for (let i = 0; i < firstDay; i++) {
                html += `<div class="h-24 bg-gray-50/50 rounded-xl border border-transparent"></div>`;
            }

            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const meeting = meetings.find(m => m.date === dateStr);
                const isToday = day === today.getDate() && month === today.getMonth() && year === today.getFullYear();
                
                const baseClass = `h-24 p-2 rounded-xl border flex flex-col relative group transition-all`;
                const borderClass = isToday ? 'border-indigo-400 bg-indigo-50/30' : 'border-gray-100 hover:border-indigo-200';
                const bgClass = meeting ? 'bg-green-50/30 cursor-pointer' : 'bg-white';
                const textClass = isToday ? 'text-indigo-600' : 'text-gray-600';

                let meetingHtml = '';
                if (meeting) {
                    meetingHtml = `
                        <div class="mt-auto flex flex-col">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-md mb-1 truncate w-fit">ğŸ‘‘ ${meeting.master}</span>
                            <i class="ph-fill ph-check-circle text-green-500 absolute top-2 right-2 text-sm"></i>
                            <div class="hidden group-hover:block absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-3 bg-gray-800 text-white text-xs rounded-lg shadow-xl pointer-events-none">
                                <p class="font-bold text-green-300 mb-1">[${meeting.master} ë§ˆìŠ¤í„°]</p>
                                <p class="mb-2 opacity-90">${meeting.topic}</p>
                                <p class="text-gray-400 border-t border-gray-600 pt-1 mt-1 break-words">${meeting.note}</p>
                                <div class="absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-800"></div>
                            </div>
                        </div>
                    `;
                }

                html += `
                    <div class="${baseClass} ${borderClass} ${bgClass}">
                        <span class="text-sm font-semibold ${textClass}">${day}</span>
                        ${meetingHtml}
                    </div>
                `;
            }
            grid.innerHTML = html;
        }

        // --- ê¸°ëŠ¥ ë¡œì§ ---

        // ë£°ë › í•¨ìˆ˜ë“¤
        function spinTodayRoulette() {
            if (teamMembers.length === 0) return alert("íŒ€ì›ì„ ë¨¼ì € ì¶”ê°€í•´ì£¼ì„¸ìš”.");
            isTodaySpinning = true; spunTodayMaster = null; renderTodayMasterCard();
            let count = 0; const max = 20;
            const iv = setInterval(() => {
                currentTodaySpinName = teamMembers[Math.floor(Math.random() * teamMembers.length)];
                renderTodayMasterCard();
                count++;
                if (count >= max) {
                    clearInterval(iv);
                    spunTodayMaster = teamMembers[Math.floor(Math.random() * teamMembers.length)];
                    isTodaySpinning = false;
                    renderTodayMasterCard();
                }
            }, 80);
        }

        function confirmTodayMaster() {
            if (!spunTodayMaster) return;
            confirmedMasters[todayStr] = spunTodayMaster;
            saveLocal('dailyMeet_masters', confirmedMasters);
            todayMaster = spunTodayMaster;
            renderTodayMasterCard();
        }

        function spinRoulette() {
            if (teamMembers.length === 0) return alert("íŒ€ì›ì„ ë¨¼ì € ì¶”ê°€í•´ì£¼ì„¸ìš”.");
            isTomorrowSpinning = true; spunTomorrowMaster = null; renderTomorrowMasterCard();
            let count = 0; const max = 20;
            const iv = setInterval(() => {
                currentTomorrowSpinName = teamMembers[Math.floor(Math.random() * teamMembers.length)];
                renderTomorrowMasterCard();
                count++;
                if (count >= max) {
                    clearInterval(iv);
                    spunTomorrowMaster = teamMembers[Math.floor(Math.random() * teamMembers.length)];
                    isTomorrowSpinning = false;
                    renderTomorrowMasterCard();
                }
            }, 80);
        }

        function confirmTomorrowMaster() {
            if (!spunTomorrowMaster) return;
            confirmedMasters[tomorrowStr] = spunTomorrowMaster;
            saveLocal('dailyMeet_masters', confirmedMasters);
            renderHome(); // ë‚´ì¼ ë°°ë„ˆë„ ë°”ë€” ìˆ˜ ìˆìœ¼ë¯€ë¡œ í™ˆ ì „ì²´ ë¦¬ë Œë”
        }

        function resetTomorrowMaster() {
            delete confirmedMasters[tomorrowStr];
            saveLocal('dailyMeet_masters', confirmedMasters);
            spunTomorrowMaster = null;
            renderHome();
        }

        function handleRandomTopic() {
            let newTopic = todayTopic;
            while (newTopic === todayTopic) newTopic = TOPICS[Math.floor(Math.random() * TOPICS.length)];
            setTopic(newTopic);
        }

        // ë°±ì¤€ ì¶”ì²œ
        function renderBaekjoonTiers() {
            const tiers = ['Bronze', 'Silver', 'Gold', 'Platinum'];
            const container = document.getElementById('baekjoon-tiers');
            container.innerHTML = tiers.map(tier => `
                <button onclick="changeTier('${tier}')" class="px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${
                    selectedTier === tier ? 'bg-slate-800 text-white shadow-sm' : 'bg-white text-slate-500 border border-slate-200 hover:bg-slate-100'
                }">${tier}</button>
            `).join('');
        }

        function changeTier(tier) {
            selectedTier = tier;
            renderBaekjoonTiers();
            handleRecommendProblem();
        }

        function handleRecommendProblem() {
            const problems = BAEKJOON_PROBLEMS[selectedTier];
            todayAlgo = problems[Math.floor(Math.random() * problems.length)];
            
            const badgeColor = todayAlgo.tier.includes('Bronze') ? 'bg-amber-700' : 
                               todayAlgo.tier.includes('Silver') ? 'bg-slate-400' : 
                               todayAlgo.tier.includes('Gold') ? 'bg-yellow-500' : 'bg-teal-400';
            
            document.getElementById('baekjoon-problem-card').innerHTML = `
                <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                    <div>
                        <span class="inline-block px-2.5 py-1 rounded text-xs font-bold text-white mb-2 ${badgeColor}">${todayAlgo.tier}</span>
                        <h3 class="text-lg font-bold text-slate-800">${todayAlgo.id}ë²ˆ: ${todayAlgo.title}</h3>
                    </div>
                    <div class="flex gap-2 w-full sm:w-auto shrink-0">
                        <button onclick="handleRecommendProblem()" class="flex-1 sm:flex-none flex items-center justify-center p-2.5 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors" title="ë‹¤ë¥¸ ë¬¸ì œ ë°›ê¸°">
                            <i class="ph-bold ph-arrows-clockwise text-lg"></i>
                        </button>
                        <a href="https://www.acmicpc.net/problem/${todayAlgo.id}" target="_blank" class="flex-1 sm:flex-none flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors">
                            í’€ëŸ¬ ê°€ê¸° <i class="ph-bold ph-arrow-square-out ml-2"></i>
                        </a>
                    </div>
                </div>
            `;
        }

        // AI ì¶”ì²œ
        async function handleFetchAi() {
            const input = document.getElementById('ai-keyword-input');
            const keyword = input.value.trim();
            const container = document.getElementById('ai-result-container');
            const btn = document.getElementById('btn-ai-fetch');

            if (!keyword) return;
            
            isAiLoading = true;
            btn.innerHTML = `<i class="ph-bold ph-spinner animate-spin mr-2"></i> ìƒì„± ì¤‘...`;
            btn.disabled = true;
            container.innerHTML = '';

            const apiKey = "";
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{ parts: [{ text: `í‚¤ì›Œë“œ: ${keyword}` }] }],
                systemInstruction: { parts: [{ text: "ë‹¹ì‹ ì€ ë°ì¼ë¦¬ ë¯¸íŒ…(ìŠ¤í¬ëŸ¼)ì„ ìœ„í•œ ì•„ì´ìŠ¤ë¸Œë ˆì´í‚¹ ì£¼ì œì™€ ì§ˆë¬¸ì„ ì¶”ì²œí•´ì£¼ëŠ” ìœ ëŠ¥í•œ ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ í‚¤ì›Œë“œë¥¼ ì£¼ë©´, 20ë¶„ ë¯¸íŒ…ì— ì í•©í•œ í¥ë¯¸ë¡œìš´ ì§ˆë¬¸ 3ê°œì™€ ê°„ë‹¨í•œ í™œë™ 1ê°œë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”." }] },
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            questions: { type: "ARRAY", items: { type: "STRING" } },
                            activity: { type: "STRING" }
                        }
                    }
                }
            };

            const retries = [1000, 2000, 4000, 8000, 16000];
            let attempt = 0;
            let success = false;
            let data = null;

            while (attempt <= retries.length && !success) {
                try {
                    const response = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) throw new Error('API Error');
                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    data = JSON.parse(text);
                    success = true;
                } catch (error) {
                    if (attempt === retries.length) {
                        data = { error: "AI ì¶”ì²œì„ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”." };
                        success = true; // Loop escape
                    } else {
                        await new Promise(r => setTimeout(r, retries[attempt]));
                        attempt++;
                    }
                }
            }

            isAiLoading = false;
            btn.innerText = 'AI ì¶”ì²œ ë°›ê¸°';
            btn.disabled = false;

            if (data.error) {
                container.innerHTML = `<div class="text-red-500 text-sm p-4 bg-red-50 rounded-xl border border-red-100">${data.error}</div>`;
            } else {
                container.innerHTML = `
                    <div class="bg-white p-5 rounded-xl border border-purple-100 space-y-4 shadow-sm animate-zoom-in">
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                                <i class="ph-fill ph-chat-circle mr-1.5 text-purple-500"></i> ì¶”ì²œ ì§ˆë¬¸ 3ê°€ì§€
                            </h4>
                            <ul class="list-disc list-inside space-y-1.5 text-gray-600 ml-1">
                                ${data.questions.map(q => `<li>${q}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="pt-4 border-t border-purple-50">
                            <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                                <i class="ph-fill ph-play mr-1.5 text-pink-500"></i> ì¶”ì²œ ë¯¸ë‹ˆ í™œë™ (ì•„ì´ìŠ¤ë¸Œë ˆì´í‚¹)
                            </h4>
                            <p class="text-gray-600 text-sm leading-relaxed ml-1">${data.activity}</p>
                        </div>
                    </div>
                `;
            }
        }

        // íƒ€ì´ë¨¸ ë¡œì§
        function handleTimerInput() {
            let val = parseInt(document.getElementById('timer-input-minutes').value) || 1;
            val = Math.max(1, Math.min(val, 120));
            inputMinutes = val;
            timeLeft = val * 60;
            isTimerRunning = false;
            clearInterval(timerInterval);
            updateTimerDisplay();
            updateTimerBtn();
            document.getElementById('timer-input-minutes').value = val;
        }

        function updateTimerDisplay() {
            const m = String(Math.floor(timeLeft / 60)).padStart(2, '0');
            const s = String(timeLeft % 60).padStart(2, '0');
            const el = document.getElementById('timer-display');
            el.innerText = `${m}:${s}`;
            el.className = `text-7xl font-mono font-bold tracking-tighter mb-8 ${timeLeft < 300 ? 'text-red-500' : 'text-gray-800'}`;
        }

        function updateTimerBtn() {
            const btn = document.getElementById('btn-timer-toggle');
            document.getElementById('timer-input-minutes').disabled = isTimerRunning;
            if (isTimerRunning) {
                btn.className = "flex items-center px-8 py-4 rounded-full font-bold text-lg text-white transition-transform active:scale-95 bg-amber-500 hover:bg-amber-600";
                btn.innerHTML = `<i class="ph-fill ph-pause mr-2 text-xl"></i> <span>ì¼ì‹œì •ì§€</span>`;
            } else {
                btn.className = "flex items-center px-8 py-4 rounded-full font-bold text-lg text-white transition-transform active:scale-95 bg-indigo-600 hover:bg-indigo-700";
                btn.innerHTML = `<i class="ph-fill ph-play mr-2 text-xl"></i> <span>${timeLeft === inputMinutes * 60 ? 'ë°ì¼ë¦¬ ì‹œì‘' : 'ê³„ì†í•˜ê¸°'}</span>`;
            }
        }

        function toggleTimer() {
            isTimerRunning = !isTimerRunning;
            updateTimerBtn();
            
            if (isTimerRunning) {
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        isTimerRunning = false;
                        updateTimerBtn();
                    }
                }, 1000);
            } else {
                clearInterval(timerInterval);
            }
        }

        // ë¯¸íŒ… ì¢…ë£Œ
        function handleFinishMeeting() {
            const title = document.getElementById('record-title-input').value || 'ì œëª© ì—†ìŒ';
            const note = document.getElementById('meeting-note-textarea').value || 'ê¸°ë¡ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.';
            
            meetings.push({ date: todayStr, master: todayMaster, topic: title, note: note });
            saveLocal('dm_meetings', meetings);
            
            isMeetingDone = true;
            isTimerRunning = false;
            clearInterval(timerInterval);
            timeLeft = inputMinutes * 60;
            
            renderHome();
        }

        // íŒ€ì› ê´€ë¦¬
        function addMember() {
            const input = document.getElementById('new-member-input');
            const name = input.value.trim();
            if (name && !teamMembers.includes(name)) {
                teamMembers.push(name);
                input.value = '';
                renderTeam();
            }
        }
        function removeMember(name) {
            teamMembers = teamMembers.filter(m => m !== name);
            renderTeam();
        }

        // ìº˜ë¦°ë” ì´ë™
        function changeMonth(offset) {
            currentCalendarDate.setMonth(currentCalendarDate.getMonth() + offset);
            renderCalendar();
        }

        // --- ì´ˆê¸°í™” ì‹¤í–‰ ---
        renderBaekjoonTiers();
        initApp();

    </script>
</body>
</html>
